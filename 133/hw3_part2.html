<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="description" content="homework #3 part2 Javascript CNIT133">
    <title>Hw#3 part 2</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="../css/hw3.css">
    <!--jquery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
  <div class="wrapper wrapper2">
    <nav>
      <ul>
        <li><a href="hw3.html">Home</a> -</li>
        <li><a href="hw3_part1.html">Part 1</a> -</li>
        <li><a class="active" href="hw3_part2.html">Part 2</a> -</li>
        <li><a href="hw3_part3.html">Part 3</a> -</li>
        <li><a href="hw3_part4.html">Part 4</a> </li>
      </ul>
    </nav>
    <h1>Hw #3 Part 2</h1>
    <div class="inner-wrapper">
      <h2>Sales Commissions</h2>
      <form>
            <label for="salesPerson">Sales Person: </label>
            <input type="text" id="salesPerson" class="nameinputField" value="">
            <br>
            <h4>Input the number of each item sold:<h4>
            <label for="item1">Item 1: </label>
            <td><input type="number" id="item1" class="inputField" value="50">
            <br>
            <label for="item2">Item 2: </label>
            <input type="number" id="item2" class="inputField" value="50">
            <br>
            <label for="item3">Item 3: </label>
            <input type="number" id="item3" class="inputField" value="50">
            <br>
            <label for="item4">Item 4: </label>
            <input type="number" id="item4" class="inputField" value="50">
            <br>
            <br>
            <input type="button" value="SUBMIT" id="submitButton">
            <input type="reset" value="RESET" id="resetButton">

            <table id="outputTable">
              <tr>
                <td>Item #:</td>
                <td>Price:</td>
                <td>Number Sold:</td>
                <td>Total:</td>
              </tr>

            </table>
            <label for="totalAmountSold">Total Amount Sold: </label>
            <input type="number" id="totalAmountSold" class="inputField" value="">
            <br>
            <label for="totalWeekEarns">Total Weekly Earnings: </label>
            <input type="number" id="totalWeekEarns" class="inputField" value="">
      </form>
    </div>
  </div>
  <script>

  var item = [];
  var prices = [239.99, 129.75, 99.95, 350.89];
  var totalAmountSold = 0;
  var totalRevenue = 0;
  var totalWeeklyEarnings = 0;

    function Item(itemNum, price, numberSold) {
    this.itemNum = itemNum;
    this.price = price;
    this.numberSold = numberSold;
    this.revenue = (price*numberSold);
  }

  for(var i = 1;  i<=4; i++){
    item[i-1] = new Item(i, prices[i-1], parseFloat($("#item"+ i).val()));
  }

  item.forEach(function(item){
    totalAmountSold += item.numberSold;
    totalRevenue += item.revenue;
    $('tbody').append(`<tr><td>${item.itemNum}</td>
                           <td>$${item.price}</td>
                           <td><input type="number" value="${item.numberSold}"></td>
                           <td><input type="number"  value="${item.revenue.toFixed(2)}"></td>
                      </tr>`);
  });

  totalWeeklyEarnings = parseFloat((200 + (totalRevenue*0.09)).toFixed(2));

  $("#totalAmountSold").val(totalAmountSold);
  $("#totalWeekEarns").val(totalWeeklyEarnings);
  console.log(item[0]);
  console.log(item[1]);
  console.log(item[2]);
  console.log(item[3]);
  console.log(totalAmountSold);
  console.log(totalWeeklyEarnings);
  </script>
</body>
</html>
